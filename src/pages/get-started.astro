---
import Layout from '../layouts/Layout.astro';
import AccountCard from '../components/landing/AccountCard.astro';
import FAQ from '../components/FAQ.astro';
import type Card from "../types/card";


const comparisonTable = [
  { feature: "MAS Based Calculator", selfGuided: "✅", expertGuided: "✅" },
  { feature: "Dashboard Access", selfGuided: "Lifetime", expertGuided: "View-Only" },
  { feature: "Financial Planning Tool", selfGuided: "Full Access", expertGuided: "View-Only" },
  { feature: "Edit Rights", selfGuided: "✅", expertGuided: "❌" },
  { feature: "Planning Sessions", selfGuided: "Unlimited", expertGuided: "1 Free Session" },
  { feature: "Premium Upgrade Discount", selfGuided: "-", expertGuided: "Exclusive promo code" },
];

const advisorCards: Card[] = [
  {
    title: "Go Beyond Being an Insurance Agent",
    image: "/get-started/forger.svg",
    alt: "Financial Advisor",
    description: "Designed for Financial Advisors committed to elevating their clients' financial well-being.",
    learnMoreLink:"",
    actionLink: "/create-account",
    actionText: "Sign up free",
  },
  {
    title: "Empower Your Entire Team",
    image: "/get-started/team.svg",
    alt: "Team Collaboration",
    description: "Perfect for teams looking to leverage advanced financial tools for better client engagement.",
    learnMoreLink:"",
    actionLink: "#",
    actionText: "Request a Team Demo",
  },
];

const individualCards:Card[] = [
  {
    title: "Forge your own Financial Pathway",
    image: "/get-started/forger.svg",
    alt: "Forge",
    description: "Use Perfingo in your own way. Recommended for users with good personal finance knowledge.",
    learnMoreLink: "/get-started",
    actionLink: "/create-account",
    actionText: "Create Account",
  },
  {
    title: "Get a guided session",
    image: "/get-started/guide.svg",
    alt: "Guide",
    description: "Be guided through the process and receive professional analysis. Recommended for users who are primarily interested in the insights.",
    learnMoreLink: "/get-started",
    actionLink: "/guided-session-signup",
    actionText: "Schedule",
  },
];
---

<Layout title="Get Started with Perfingo">
  <section class="py-20 bg-gradient-to-br from-white to-secondary-50">
    <div class="container mx-auto px-4">
      <h1 class="text-4xl font-bold text-center mb-8">Choose your path</h1>
      <div class="text-center mb-12">
        <button id="toggle-view" class="text-primary-500 font-medium hover:underline">
          I am planning for myself
        </button>
      </div>

      <div id="user-view">
        <AccountCard cards={individualCards}/>
        
        <div class="mt-20">
          <h3 class="text-2xl font-bold text-center mb-8">Choose Your Path to Financial Success</h3>
          <div class="overflow-x-auto">
            <table class="w-full bg-white rounded-lg shadow-lg">
              <thead class="bg-gray-100">
                <tr>
                  <th class="p-4 text-left text-gray-600">Features</th>
                  <th class="p-4 text-center text-gray-600">Self-Guided</th>
                  <th class="p-4 text-center text-gray-600">Expert-Guided</th>
                </tr>
              </thead>
              <tbody>
                {comparisonTable.map((row) => (
                  <tr>
                    <td class="p-4 border-t font-medium">{row.feature}</td>
                    <td class="p-4 border-t text-center">{row.selfGuided}</td>
                    <td class="p-4 border-t text-center">{row.expertGuided}</td>
                  </tr>
                ))}
                <tr>
                  <td class="p-4 border-t"></td>
                  <td class="p-4 border-t text-center">
                    <a href="/create-account" class="bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors duration-300 inline-block">
                      Get started
                    </a>
                  </td>
                  <td class="p-4 border-t text-center">
                    <a href="/guided-session-form" class="bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors duration-300 inline-block">
                      Book Session
                    </a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div id="advisor-view" class="hidden">
        <div class="flex flex-wrap justify-center gap-8">
            <AccountCard cards={advisorCards}/>
        </div>
      </div>
    </div>
  </section>

  <section class="py-20 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-14">What can Perfingo do?</h2>
      <div class="max-w-3xl mx-auto">
        <!-- Add your demo list here -->
      </div>
    </div>
  </section>

  <FAQ />
</Layout>

<script>
  const toggleViewBtn = document.getElementById('toggle-view');
  const userView = document.getElementById('user-view');
  const advisorView = document.getElementById('advisor-view');

  let currentView = 'user';

  if (toggleViewBtn && userView && advisorView) {
      toggleViewBtn.addEventListener('click', () => {
        if (currentView === 'user') {
          userView.classList.add('hidden');
          advisorView.classList.remove('hidden');
          toggleViewBtn.textContent = 'I am planning for myself';
          currentView = 'advisor';
        } else {
          userView.classList.remove('hidden');
          advisorView.classList.add('hidden');
          toggleViewBtn.textContent = 'I am an Advisor';
          currentView = 'user';
        }
      });    
  }


  // Add demo list click handlers if needed
</script>

<style>
  @media (max-width: 725px) {
    th {
      font-size: 16px;
    }
    td {
      font-size: 14px;
    }
  }
</style>